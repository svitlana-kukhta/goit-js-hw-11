{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["'use strict';\n\nconst API_KEY = '46284520-d906981dc6cb4e25f7cb86bba';\nconst BASE_URL = 'https://pixabay.com/api/';\nconst PROXY_URL = 'https://cors-anywhere.herokuapp.com/';\nconst options = {\n  method: 'GET',\n  headers: {\n    'Cache-Control': 'no-cache',\n    'Pragma': 'no-cache',\n  },\n};\n\n/**\n * Функція для отримання зображень з Pixabay\n * @param {string} searchQuery - запит для пошуку\n * @returns {Promise} - обіцянка, що виконує дані з Pixabay\n */\nexport function fetchImages(searchQuery) {\n  const searchParams = new URLSearchParams({\n    key: API_KEY,\n    q: searchQuery,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: 'true',\n  });\n\n  const url = `${PROXY_URL}${BASE_URL}?${searchParams.toString()}`;\n\n\n  return fetch(url, options)\n    .then(response => {\n      if (!response.ok) {\n        throw new Error(`HTTP error! status: ${response.status}`);\n      }\n      return response.json();\n    });\n}\n\n","'use strict';\n\n/**\n * Функція для відображення зображень у галереї\n * @param {Array} hits - масив зображень\n * @param {HTMLElement} gallery - контейнер для зображень\n */\nexport function renderImages(hits, gallery) {\n  gallery.innerHTML = '';\n  hits.forEach(hit => {\n    const linkElement = document.createElement('a');\n    linkElement.href = hit.largeImageURL;\n\n    const imgElement = document.createElement('img');\n    imgElement.src = hit.webformatURL;\n    imgElement.alt = hit.tags;\n    imgElement.width = 360;\n  \n\n    const infoDiv = document.createElement('div');\n    infoDiv.classList.add('image-info');\n    infoDiv.innerHTML = `\n      <p><strong>Likes:</strong> ${hit.likes}</p>\n      <p><strong>Views:</strong> ${hit.views}</p>\n      <p><strong>Comments:</strong> ${hit.comments}</p>\n      <p><strong>Downloads:</strong> ${hit.downloads}</p>\n    `;\n\n    linkElement.appendChild(imgElement);\n    linkElement.appendChild(infoDiv);\n    gallery.appendChild(linkElement);\n  });\n}","'use strict';\n\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\nimport { fetchImages } from './js/pixabay-api.js';\nimport { renderImages } from './js/render-functions.js';\n\nconst searchInput = document.querySelector('#search-input');\nconst fetchSearchBtn = document.querySelector('.btn');\nconst gallery = document.querySelector('.gallery');\nconst loader = document.querySelector('.loader');\n\nlet lightbox;\n\nfetchSearchBtn.addEventListener('click', (event) => {\n  event.preventDefault();\n\n  const searchQuery = searchInput.value.trim();\n  if (!searchQuery) {\n    iziToast.show({ message: 'Please try again!' });\n    return;\n  }\n\n  loader.style.display = 'block';\n\n  fetchImages(searchQuery)\n    .then(data => {\n      loader.style.display = 'none';\n\n      if (!data.hits || data.hits.length === 0) {\n        iziToast.show({ message: 'No images found for your query. Please try another search.' });\n        return;\n      }\n\n      renderImages(data.hits, gallery);\n\n      lightbox = new SimpleLightbox('.gallery a', { captionDelay: 250 });\n      lightbox.refresh();\n    })\n    .catch(error => {\n      loader.style.display = 'none';\n      iziToast.error({ title: 'Error', message: 'Sorry, there are no images matching your search query. Please try again!' });\n    });\n});"],"names":["API_KEY","BASE_URL","PROXY_URL","options","fetchImages","searchQuery","searchParams","url","response","renderImages","hits","gallery","hit","linkElement","imgElement","infoDiv","searchInput","fetchSearchBtn","loader","lightbox","event","iziToast","data","SimpleLightbox","error"],"mappings":"6vBAEA,MAAMA,EAAU,qCACVC,EAAW,2BACXC,EAAY,uCACZC,EAAU,CACd,OAAQ,MACR,QAAS,CACP,gBAAiB,WACjB,OAAU,UACX,CACH,EAOO,SAASC,EAAYC,EAAa,CACvC,MAAMC,EAAe,IAAI,gBAAgB,CACvC,IAAKN,EACL,EAAGK,EACH,WAAY,QACZ,YAAa,aACb,WAAY,MAChB,CAAG,EAEKE,EAAM,GAAGL,CAAS,GAAGD,CAAQ,IAAIK,EAAa,SAAU,CAAA,GAG9D,OAAO,MAAMC,EAAKJ,CAAO,EACtB,KAAKK,GAAY,CAChB,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAM,uBAAuBA,EAAS,MAAM,EAAE,EAE1D,OAAOA,EAAS,MACtB,CAAK,CACL,CC9BO,SAASC,EAAaC,EAAMC,EAAS,CAC1CA,EAAQ,UAAY,GACpBD,EAAK,QAAQE,GAAO,CAClB,MAAMC,EAAc,SAAS,cAAc,GAAG,EAC9CA,EAAY,KAAOD,EAAI,cAEvB,MAAME,EAAa,SAAS,cAAc,KAAK,EAC/CA,EAAW,IAAMF,EAAI,aACrBE,EAAW,IAAMF,EAAI,KACrBE,EAAW,MAAQ,IAGnB,MAAMC,EAAU,SAAS,cAAc,KAAK,EAC5CA,EAAQ,UAAU,IAAI,YAAY,EAClCA,EAAQ,UAAY;AAAA,mCACWH,EAAI,KAAK;AAAA,mCACTA,EAAI,KAAK;AAAA,sCACNA,EAAI,QAAQ;AAAA,uCACXA,EAAI,SAAS;AAAA,MAGhDC,EAAY,YAAYC,CAAU,EAClCD,EAAY,YAAYE,CAAO,EAC/BJ,EAAQ,YAAYE,CAAW,CACnC,CAAG,CACH,CCvBA,MAAMG,EAAc,SAAS,cAAc,eAAe,EACpDC,EAAiB,SAAS,cAAc,MAAM,EAC9CN,EAAU,SAAS,cAAc,UAAU,EAC3CO,EAAS,SAAS,cAAc,SAAS,EAE/C,IAAIC,EAEJF,EAAe,iBAAiB,QAAUG,GAAU,CAClDA,EAAM,eAAc,EAEpB,MAAMf,EAAcW,EAAY,MAAM,KAAI,EAC1C,GAAI,CAACX,EAAa,CAChBgB,EAAS,KAAK,CAAE,QAAS,mBAAqB,CAAA,EAC9C,MACD,CAEDH,EAAO,MAAM,QAAU,QAEvBd,EAAYC,CAAW,EACpB,KAAKiB,GAAQ,CAGZ,GAFAJ,EAAO,MAAM,QAAU,OAEnB,CAACI,EAAK,MAAQA,EAAK,KAAK,SAAW,EAAG,CACxCD,EAAS,KAAK,CAAE,QAAS,4DAA8D,CAAA,EACvF,MACD,CAEDZ,EAAaa,EAAK,KAAMX,CAAO,EAE/BQ,EAAW,IAAII,EAAe,aAAc,CAAE,aAAc,GAAG,CAAE,EACjEJ,EAAS,QAAO,CACtB,CAAK,EACA,MAAMK,GAAS,CACdN,EAAO,MAAM,QAAU,OACvBG,EAAS,MAAM,CAAE,MAAO,QAAS,QAAS,0EAA0E,CAAE,CAC5H,CAAK,CACL,CAAC"}